# ScalaCheck

What sets ScalaCheck apart from numerous mainstream testing tool is its core idea, the concept of *property-based* testing.

The idea is that if you are rigid enough about testing and write tests for covering most parts of your implementation.
You should then be able to put less focus on your informal specification documents and instead start considering the tests themselves a specification for your program.

However, while the idea of tests as specification is to make your specification more test-centered, property-based testing goes in the opposite direction by making your tests more specification-like.
It does so by generalizing *tests to properties*.

### Tests versus properties

A test is a concrete example of how a program should behave in a particular situation, while a property is an abstract, general specification.

Still, the tests don't really describe the method's behavior; they merely give us a number of usage examples.
A *property*, on the other hand, will give us a more general description of the behavior.

You can read the property get a *complete* definition of the behavior, rather than a set of examples that only indicates the method's behavior.

There is not much more to property-based testing than this.
Simply replace a set of concrete test cases with one abstract property that describes a code unit's behavior.
ScalaCheck will then take your abstract property and turn it into possibly thousands of concrete test cases by generating randomized dat for the property's parameters.
It will run each test in an attempt to *falsify* the property, and only if each test for a given property passes will ScalaCheck regard the property as true.

Remember also that everything that is offered by traditional, example-based tests still is viable in a property-based setting.
Since properties just are a generalization of tests, you can write properties that make use of concrete tests instead of, or in combination with, ones that are generated by ScalaCheck.
Property-based testing simply gives you new ways of expressing expectations on your code, it doesn't remove anything you are used to from example-based testing.

### Benefits from property-based testing

**Test coverage** can increase since test cases are generated in a random fashion, and the code is tested with many more cases.

## Using ScalaCheck

In ScalaCheck, you define *properties* instead of tests.
To define a set of properties for our library under test, we extend `org.scalacheck.Properties` class, which could be seen as corresponding to the `TestCase` class in JUnit.

## ScalaCheck Fundamentals

The two most fundamental concepts in ScalaCheck are *properties* and *generators*.

### The `Prop` and `Properties` classes

A single property in ScalaCheck is the smallest testable unit.
It is always represented by an instance of the `org.scalacheck.Prop` class.

The common way of creating property instances is by using the various methods from the `org.scalacheck.Prop` module.

When defining several related properties, ScalaCheck also has a class named `org.scalacheck.Properties` that can be used to group a bunch of properties together.
It provides a way to label the individual property instances, and makes it easier for ScalaCheck to present the test results in a nice way.
Using the `Properties` class is the preferred way of defining properties for your code.

## Running ScalaCheck

### Retrieving ScalaCheck

#### Using Maven

If you use Maven, you can get it to fetch ScalaCheck automatically by including the following dependency:
```xml
<repositories>
	<repository>
		<id>oss.sonatype.org</id>
		<name>releases</name>
		<url>http://oss.sonatype.org/content/repositories/releases</url>
	</repository>
</repositories>

<dependencies>
	<dependency>
		<groupId>org.scalacheck</groupId>
		<artifactId>scalacheck_2.12</artifactId>
		<version>1.13.4</version>
		<scope>test</scope>
	</dependency>
</dependencies>
```

### Integrating ScalaCheck

#### Using ScalaCheck with ScalaTest

ScalaTest provides two ways in its `org.scalatest.prop` package to incorporate ScalaCheck property checks into your test suites: `Checkers` and `PropertyChecks`.
`Checkers` allows you to use native ScalaCheck syntax;
`PropertyChecks` provides syntax more consistent with the rest of ScalaTest.

`Checkers` therefore allows you to construct properties the same was as ScalaCheck, and obtain output consistent with running ScalaCheck directly.

ScalaTest's `forAll` can be optionally configured by specifying arguments before the property function.
